install.packages("felm")
library(felm)
library("felm")
install.packages("felm")
install.packages("lfe")
library(felm)
library("lfe")
head(tablea8)
tablea8 <- readRDS("/Users/margaretkenney/Documents/GitHub/ps231b_reproduction_group2/original reproduction package/replication/data/did-price-env-acled.rds")
head(tablea8)
est <- felm(ind_protest ~ log_val | year + cell_number_5x5, data = tablea8)
summary(est)
est <- felm(ind_protest ~ log_val | cell_number_5x5 + year, data = tablea8)
summary(est)
summary(lm(ind_protest ~ log_val + cell_number_5x5 +year-1, data = tablea8)
summary(lm(ind_protest ~ log_val + cell_number_5x5 +year-1, data = tablea8))
summary(lm(ind_protest ~ log_val + cell_number_5x5 +year-1, data = tablea8))
brdr_dt <- readRDS("data/did-acled-border.rds")
brdr_dt <- readRDS("/Users/yuelin/Documents/GitHub/ps231b_reproduction_group2/original reproduction package/replication/data/did-acled-border.rds")
plot_dt <- brdr_dt[border <= 2]
colnames(brdr_dt)
rm(list = ls()); gc()
brdr_dt <- readRDS("/Users/yuelin/Documents/GitHub/ps231b_reproduction_group2/original reproduction package/replication/data/did-acled-border.rds")
plot_dt <- brdr_dt[border <= 2]
plot_dt <- brdr_dt[border$brdr_dt <= 2]
plot_dt[is.na(min_year), min_year := 2015L]
brdr_dt[border <= 2]
border <= 2
brdr_dt$border <= 2
plot_dt <- brdr_dt[brdr_dt$border <= 2]
plot_dt <- brdr_dt$border <= 2
plot_dt
plot_dt <- brdr_dt[brdr_dt$border <= 2,]
plot_dt <- brdr_dt[border <= 2]
plot_dt <- brdr_dt[border <= 2,]
plot_dt[is.na(min_year), min_year := 2015L]
plot_dt <- brdr_dt[border <= 2]
treat_grps <- plot_dt[min_year != 2015, sort(unique(min_year))]
# Averages by Treatment Group, Treatment, and Year:
dt_list <- list()
temp_dt[, treat := as.integer(min_year == treat_grps[t])]
dt_list <- list()
for(t in seq_along(treat_grps)) {
temp_dt <- plot_dt[min_year >= treat_grps[t]]
temp_dt[, treat := as.integer(min_year == treat_grps[t])]
dt_list[[t]] <- temp_dt[, list(
.N,
pr_protest = mean(ind_protest),
group = treat_grps[t]),
by = list(treat, year)]
}
plot_dt <- rbindlist(dt_list)
# Relative Year:
plot_dt[, rel_year := year - group]
library(data.table)
plot_dt <- brdr_dt[border <= 2]
plot_dt[is.na(min_year), min_year := 2015L]
treat_grps <- plot_dt[min_year != 2015, sort(unique(min_year))]
library(data.table)
colnames(brdr_dt)
border
brdr_dt$border
plot_dt <- brdr_dt$border <= 2
plot_dt <- brdr_dt[border <= 2]
plot_dt <- brdr_dt$border <= 2
min.year
brdr_dt$min.year
brdr_dt$min_year
plot_dt[is.na(min_year), min_year := 2015L]
plot_dt[is.na(min_year), min_year := 2015L]
plot_dt <- brdr_dt[border <= 2]
plot_dt[is.na(min_year), min_year := 2015L]
